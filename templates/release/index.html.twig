{% extends 'base.html.twig' %}

{% block title %}Informations{% endblock %}

{% block body %}

<div class="example-wrapper">
    <div class="releasesCarte">
        <img src="" class="releasesImage"/>
        <div class="releasesContenu">
            <h3 class="releasesTitre">{{reponse.title}}</h3>
            <ul class="releasesStatistiques">
                <li>
                    {{reponse.title}}
                    {% if reponse.year != 0 %}
                        ({{ reponse.year }})
                    {% endif %}
                    <br>
                    par {{reponse.artists[0].name}} <br>
                    {% if reponse.released is defined %}
                        {{reponse.released}}
                    {% endif %}
                    {% if reponse.styles is defined and reponse.styles|length > 1 %}
                    <p class="styleEtGenreTexte"> Styles : </p>
                        <ul>
                            {% for style in reponse.styles %}
                                <li class="styleEtGenreTexte"> - {{ style }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                    <p class="styleEtGenreTexte"> Style : </p>
                    <ul>
                        <li class="styleEtGenreTexte"> - {{reponse.styles[0]}} </li>
                    </ul>
                    {% endif %}
                    {% if reponse.genres is defined and reponse.genres|length > 1 %}
                    <p class="styleEtGenreTexte"> Genres : </p>
                        <ul>
                            {% for genre in reponse.genres %}
                                <li class="styleEtGenreTexte"> - {{ genre }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                    <p class="styleEtGenreTexte"> Genre : </p>
                    <ul>
                        <li class="styleEtGenreTexte"> - {{reponse.genres[0]}} </li>
                    </ul>
                    {% endif %}
                    <!-- les stats-->
                </li>    
            </ul>
            <button class="realeasesAjouterFavoris"> Ajouter </button>
        </div>    
    </div>
    <br>
    <div class="tracklistConteneur">
    <h2 class="titreDivTrack"> Tracks </h2>
    {% for track in reponse.tracklist %}

        <div class="track"> 
           <h3 class="trackTitre"> {{ track.title }} </h3>

           <!-- Élémeénts de la tracklists (durée et position) s'ils sont définis-->
            {% if track.extraartists is defined %}
                {% if track.extraartists|length > 1 %}
                <p class="trackAvec"> Avec : </p>
                {% for artist in track.extraartists %}
                     <p class="trackArtistes"> - {{artist.name}} </p>
                {% endfor %}
                {% else %}
                <p class="trackAvec"> Avec : </p>
                <p class="trackArtistes"> - {{track.extraartists[0].name}}
                {% endif %}
            {% endif %}

            {% if track.artists is defined %}
                {% if track.artists|length > 1 %}
                    <p class="trackAvec"> Avec : </p>
                    {% for artist in track.artists %}
                        <p class="trackArtistes"> - {{artist.name}} </p>
                    {% endfor %}
                    {% else %}
                    <p class="trackAvec"> Avec : </p>
                    <p class="trackArtistes"> - {{track.artists[0].name}}
                {% endif %}
            {% endif %}
        </div>

    {% endfor %}
    </div>
    {% for key,item in reponse %}
        <pre>
            {{ dump(key, item) }}
        </pre>
    {% endfor %}
</div>
{% endblock %}
